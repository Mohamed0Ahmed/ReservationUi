import{a as C}from"./chunk-4UGSAFNV.js";import{a as w,b as p,c as S,d as N,f as F,h as E,i as y,m as A,o as L}from"./chunk-NMPAONDN.js";import{Ea as h,Fa as d,H as g,Ja as u,Ka as v,Ra as _,aa as l,ba as f,ja as x,la as a,na as b,ta as r,xa as i,ya as o,za as c}from"./chunk-HYLWAQAG.js";function R(e,m){e&1&&(i(0,"div",12),u(1,"\u0627\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062D\u0644"),o())}function T(e,m){if(e&1&&a(0,R,2,0,"div",12),e&2){let t=d();r(0,!(t.storeName==null||t.storeName.errors==null)&&t.storeName.errors.required?0:-1)}}function D(e,m){e&1&&(i(0,"div",12),u(1,"\u0627\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),o())}function k(e,m){if(e&1&&a(0,D,2,0,"div",12),e&2){let t=d();r(0,!(t.username==null||t.username.errors==null)&&t.username.errors.required?0:-1)}}function q(e,m){e&1&&(i(0,"div",12),u(1,"\u0627\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),o())}function G(e,m){if(e&1&&a(0,q,2,0,"div",12),e&2){let t=d();r(0,!(t.password==null||t.password.errors==null)&&t.password.errors.required?0:-1)}}function j(e,m){if(e&1&&(i(0,"h2",10),u(1),o()),e&2){let t=d();l(),v(t.message())}}var O=(()=>{class e{constructor(t,s){this.fb=t,this.authService=s,this.message=x(""),this.loginForm=this.fb.group({storeName:["",p.required],username:["",p.required],password:["",p.required]})}get storeName(){return this.loginForm.get("storeName")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.message.set(""),this.authService.roomLogin(this.storeName?.value,this.username?.value,this.password?.value).subscribe({next:t=>{t.isSuccess===!1&&this.message.set(t.message||"\u0641\u0634\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644")},error:()=>this.message.set("\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0627\u0646\u062A\u0631\u0646\u062A \u0627\u0644\u062E\u0627\u0635 \u0628\u0643")})}static{this.\u0275fac=function(s){return new(s||e)(f(A),f(C))}}static{this.\u0275cmp=g({type:e,selectors:[["app-room-login"]],standalone:!0,features:[_],decls:23,vars:5,consts:[["dir","rtl",1,"min-h-screen","flex","items-center","justify-center","text-white"],[1,"p-8","rounded-lg","shadow-lg","w-full","max-w-md"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","storeName",1,"block","text-sm","font-medium"],["type","text","id","storeName","formControlName","storeName",1,"mt-1","w-full","px-4","text-black","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","username",1,"block","text-sm","font-medium"],["type","text","id","username","formControlName","username",1,"mt-1","w-full","px-4","py-2","border","text-black","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","password",1,"block","text-sm","font-medium"],["type","password","id","password","formControlName","password",1,"mt-1","w-full","px-4","py-2","border","text-black","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-center","font-bold","text-red-600"],["type","submit",1,"w-full","py-2","px-4","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-red-500","text-sm","mt-1"]],template:function(s,n){s&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),u(3," \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644 \u0627\u0644\u063A\u0631\u0641\u0629 "),o(),i(4,"form",3),h("ngSubmit",function(){return n.onSubmit()}),i(5,"div")(6,"label",4),u(7," \u0627\u0633\u0645 \u0627\u0644\u0645\u062D\u0644 "),o(),c(8,"input",5),a(9,T,1,1),o(),i(10,"div")(11,"label",6),u(12," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 "),o(),c(13,"input",7),a(14,k,1,1),o(),i(15,"div")(16,"label",8),u(17," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),o(),c(18,"input",9),a(19,G,1,1)(20,j,2,1,"h2",10),o(),i(21,"button",11),u(22," \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644 "),o()()()()),s&2&&(l(4),b("formGroup",n.loginForm),l(5),r(9,n.storeName!=null&&n.storeName.touched&&(n.storeName!=null&&n.storeName.invalid)?9:-1),l(5),r(14,n.username!=null&&n.username.touched&&(n.username!=null&&n.username.invalid)?14:-1),l(5),r(19,n.password!=null&&n.password.touched&&(n.password!=null&&n.password.invalid)?19:-1),l(),r(20,n.message()?20:-1))},dependencies:[L,F,w,S,N,E,y],encapsulation:2,changeDetection:0})}}return e})();export{O as RoomLoginComponent};
