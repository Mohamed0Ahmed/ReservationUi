import{a as S}from"./chunk-PYGYMGSD.js";import{a as A,b as p,c as F,d as y,f as E,h as R,i as D,m as T,o as k}from"./chunk-5LMW7FD6.js";import{$ as l,Da as v,Ea as c,G as f,Ia as r,Ja as C,Qa as _,aa as d,ia as x,ka as m,ma as h,sa as s,vb as b,wa as o,wb as w,xa as n,ya as g}from"./chunk-GW44SSYG.js";function N(e,a){e&1&&(o(0,"div",12),r(1,"\u0627\u062F\u062E\u0644 \u0627\u0644\u0625\u064A\u0645\u064A\u0644"),n())}function j(e,a){e&1&&(o(0,"div",12),r(1,"\u0627\u0644\u0625\u064A\u0645\u064A\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"),n())}function q(e,a){if(e&1&&m(0,N,2,0,"div",12)(1,j,2,0),e&2){let t=c();s(0,!(t.email==null||t.email.errors==null)&&t.email.errors.required?0:!(t.email==null||t.email.errors==null)&&t.email.errors.email?1:-1)}}function G(e,a){e&1&&(o(0,"div",12),r(1,"\u0627\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),n())}function I(e,a){if(e&1&&m(0,G,2,0,"div",12),e&2){let t=c();s(0,!(t.password==null||t.password.errors==null)&&t.password.errors.required?0:-1)}}function M(e,a){if(e&1&&(o(0,"h2",8),r(1),n()),e&2){let t=c();l(),C(t.message())}}var U=(()=>{class e{constructor(t,u,i){this.fb=t,this.authService=u,this.router=i,this.message=x(""),this.registerForm=this.fb.group({email:["",[p.required,p.email]],password:["",p.required]})}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched();return}this.message.set("");let{email:t,password:u}=this.registerForm.value;this.authService.register(t,u).subscribe({next:i=>{i.isSuccess?this.router.navigate(["/login"]):this.message.set(i.message||"\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628")},error:i=>{this.message.set(i.message||"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628")}})}static{this.\u0275fac=function(u){return new(u||e)(d(T),d(S),d(b))}}static{this.\u0275cmp=f({type:e,selectors:[["app-register"]],standalone:!0,features:[_],decls:21,vars:4,consts:[["dir","rtl",1,"min-h-screen","flex","items-center","justify-center"],[1,"text-white","p-8","rounded-lg","shadow-lg","w-full","max-w-md"],[1,"text-2xl","font-bold","text-center","mb-6","text-white"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium"],["type","email","id","email","formControlName","email",1,"mt-1","w-full","px-4","text-black","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","password",1,"block","text-sm","font-medium"],["type","password","id","password","formControlName","password",1,"mt-1","w-full","px-4","text-black","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-center","font-bold","text-red-600"],["type","submit",1,"w-full","py-2","px-4","bg-red-600","text-white","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-green-500"],[1,"text-center","mt-4","font-bold"],["routerLink","/login",1,"text-red-600"],[1,"text-red-500","text-sm","mt-1"]],template:function(u,i){u&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3," \u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F "),n(),o(4,"form",3),v("ngSubmit",function(){return i.onSubmit()}),o(5,"div")(6,"label",4),r(7," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A "),n(),g(8,"input",5),m(9,q,2,1),n(),o(10,"div")(11,"label",6),r(12," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),n(),g(13,"input",7),m(14,I,1,1)(15,M,2,1,"h2",8),n(),o(16,"button",9),r(17," \u062A\u0633\u062C\u064A\u0644 \u062D\u0633\u0627\u0628 "),n(),o(18,"div",10)(19,"a",11),r(20,"\u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644"),n()()()()()),u&2&&(l(4),h("formGroup",i.registerForm),l(5),s(9,i.email!=null&&i.email.touched&&(i.email!=null&&i.email.invalid)?9:-1),l(5),s(14,i.password!=null&&i.password.touched&&(i.password!=null&&i.password.invalid)?14:-1),l(),s(15,i.message()?15:-1))},dependencies:[k,E,A,F,y,R,D,w],changeDetection:0})}}return e})();export{U as RegisterComponent};
