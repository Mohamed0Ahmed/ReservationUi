import{a as w}from"./chunk-PYGYMGSD.js";import{a as S,b as c,c as A,d as F,f as y,h as E,i as L,m as D,o as T}from"./chunk-5LMW7FD6.js";import{$ as r,Da as C,Ea as d,G as g,Ia as u,Ja as v,Qa as _,aa as p,ia as x,ka as s,ma as h,sa as a,wa as o,wb as b,xa as i,ya as f}from"./chunk-GW44SSYG.js";function k(t,m){t&1&&(o(0,"div",12),u(1,"\u0627\u062F\u062E\u0644 \u0627\u0644\u0625\u064A\u0645\u064A\u0644"),i())}function N(t,m){t&1&&(o(0,"div",12),u(1,"\u0627\u0644\u0625\u064A\u0645\u064A\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"),i())}function q(t,m){if(t&1&&s(0,k,2,0,"div",12)(1,N,2,0),t&2){let e=d();a(0,!(e.email==null||e.email.errors==null)&&e.email.errors.required?0:!(e.email==null||e.email.errors==null)&&e.email.errors.email?1:-1)}}function G(t,m){t&1&&(o(0,"div",13),u(1,"\u0627\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),i())}function j(t,m){if(t&1&&s(0,G,2,0,"div",13),t&2){let e=d();a(0,!(e.password==null||e.password.errors==null)&&e.password.errors.required?0:-1)}}function I(t,m){if(t&1&&(o(0,"h2",8),u(1),i()),t&2){let e=d();r(),v(e.message())}}var P=(()=>{class t{constructor(e,l){this.fb=e,this.authService=l,this.message=x(""),this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",c.required]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.message.set(""),this.authService.login(this.email?.value,this.password?.value).subscribe({next:e=>{e.isSuccess===!1&&this.message.set(e.message||"\u0641\u0634\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644")},error:e=>{this.message.set("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644")}})}static{this.\u0275fac=function(l){return new(l||t)(p(D),p(w))}}static{this.\u0275cmp=g({type:t,selectors:[["app-login"]],standalone:!0,features:[_],decls:21,vars:4,consts:[["dir","rtl",1,"min-h-screen","flex","items-center","justify-center"],[1,"p-8","rounded-lg","shadow-lg","w-full","max-w-md","text-white"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium"],["type","email","id","email","formControlName","email",1,"mt-1","w-full","text-black","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","password",1,"block","text-sm","font-medium"],["type","password","id","password","formControlName","password",1,"mt-1","w-full","px-4","py-2","border","text-black","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-center","font-bold","text-red-600"],["type","submit",1,"w-full","py-2","px-4","bg-red-600","text-white","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-center","mt-4","font-bold","cursor-pointer"],["routerLink","/register",1,"text-red-600"],[1,"text-sm","text-red-600","mt-1"],[1,"text-red-500","text-sm","mt-1"]],template:function(l,n){l&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),u(3,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),i(),o(4,"form",3),C("ngSubmit",function(){return n.onSubmit()}),o(5,"div")(6,"label",4),u(7,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),i(),f(8,"input",5),s(9,q,2,1),i(),o(10,"div")(11,"label",6),u(12,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),i(),f(13,"input",7),s(14,j,1,1)(15,I,2,1,"h2",8),i(),o(16,"button",9),u(17," \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644 "),i(),o(18,"div",10)(19,"a",11),u(20,"\u062A\u0633\u062C\u064A\u0644 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F"),i()()()()()),l&2&&(r(4),h("formGroup",n.loginForm),r(5),a(9,n.email!=null&&n.email.touched&&(n.email!=null&&n.email.invalid)?9:-1),r(5),a(14,n.password!=null&&n.password.touched&&(n.password!=null&&n.password.invalid)?14:-1),r(),a(15,n.message()?15:-1))},dependencies:[T,y,S,A,F,E,L,b],changeDetection:0})}}return t})();export{P as LoginComponent};
